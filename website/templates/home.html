{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%} {% if user.type_id == 1 %}
<h2>Admin</h2>
{% else %}
<h1>Catalogus</h1>
<h2>Welkom {{ user.first_name}}</h2>
{% endif %}
<!-- Filters -->
<section class="filters">
  <form method="POST" id="filterForm">
    <div class="filterBtns">
      <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <label class="btn btn-secondary active">
          <input type="radio" name="AZ" placeholder="A-Z" id="AZ" value="AZ" />
          A-Z
        </label>
        <label class="btn btn-secondary">
          <input type="radio" name="AZ" placeholder="Z-A" id="ZA" value="ZA" />
          Z-A
        </label>
      </div>
      <select id="category" class="custom-select" name="category">
        <option value="All">All</option>
        <option value="Audio">Audio</option>
        <option value="Video">Video</option>
        <option value="Varia">Varia</option>
        <option value="Belichting">Belichting</option>
        <option value="XR">XR</option>
      </select>
      <button type="submit" class="btn btn-primary" id="filterBtn">
        Filter Resultaten
      </button>
      <input type="hidden" name="form_name" value="sorteer" />
    </div>
  </form>

  <!-- Search bar -->
  <form method="POST" id="searchForm">
    <input type="hidden" name="form_name" value="search" />
    <div class="input-group rounded" id="searchBar">
      <input
        type="search"
        class="form-control rounded"
        placeholder="Search"
        aria-label="Search"
        aria-describedby="search-addon"
        name="search"
      />
      <button type="submit" class="input-group-text border-0" id="search-addon">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </form>
</section>

<!-- catalogus -->
<section class="catalogus">
  {% for title, group in grouped_artikels.items() %} {% if group|length > 1 %}
  <!-- Carousel code -->
  <div class="card">
    <div
      id="carouselExampleIndicators{{ loop.index }}"
      class="carousel slide"
      data-interval="false"
    >
      <div class="carousel-inner">
        {% for artikel in group %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <!-- Content of the item -->
          <img
            src="{{ url_for('static', filename='images/' + artikel.afbeelding) }}"
            class="card-img-top"
            alt="afbeelding"
          />
          <div class="card-body">
            <h5 class="card-title">{{ artikel.title }}</h5>
            <p class="card-text">{{ artikel.beschrijving }}</p>
            <p class="card-text">{{ artikel.merk }}</p>
            <p class="card-text">{{ artikel.nummer }}</p>
            <p class="card-text">{{ artikel.category }}</p>
            <form method="POST">
              <div class="datumReserveer">
                <input
                  class="form-control selecteerDatum"
                  type="datetime-local"
                  placeholder="Selecteer datums"
                  name="datepicker"
                  data-item-id="{{ artikel.id }}"
                />
                <input type="hidden" name="form_name" value="reserveer" />
                <input
                  type="hidden"
                  name="artikel_id"
                  value="{{ artikel.id }}"
                />
                <button type="submit" class="btn btn-primary submitBtn">
                  Reserveer
                </button>
              </div>
            </form>
          </div>
        </div>
        {% endfor %}
      </div>
      <!-- Carousel controls -->
      <a
        class="carousel-control-prev carouselBtn"
        href="#carouselExampleIndicators{{ loop.index }}"
        role="button"
        data-slide="prev"
      >
        <i class="fas fa-chevron-left"></i>
      </a>
      <a
        class="carousel-control-next carouselBtn"
        href="#carouselExampleIndicators{{ loop.index }}"
        role="button"
        data-slide="next"
      >
        <i class="fas fa-chevron-right"></i>
      </a>
    </div>
  </div>
  {% else %}
  <!-- Single card code -->
  <div class="card">
    <!-- Content of the single item -->
    <img
      src="{{ url_for('static', filename='images/'+group[0].afbeelding) }}"
      class="card-img-top"
      alt="afbeelding"
    />
    <div class="card-body">
      <h5 class="card-title">{{ group[0].title }}</h5>
      <p class="card-text">{{ group[0].beschrijving }}</p>
      <p class="card-text">{{ group[0].merk }}</p>
      <p class="card-text">{{ group[0].nummer }}</p>
      <p class="card-text">{{ group[0].category }}</p>
      <form method="POST">
        <div class="datumReserveer">
          <input
            class="form-control selecteerDatum"
            type="datetime-local"
            placeholder="Selecteer datums"
            name="datepicker"
            data-item-id="{{ group[0].id }}"
          />
          <input type="hidden" name="form_name" value="reserveer" />
          <input type="hidden" name="artikel_id" value="{{ group[0].id }}" />
          <button type="submit" class="btn btn-primary submitBtn">
            Reserveer
          </button>
        </div>
      </form>
    </div>
  </div>
  {% endif %} {% endfor %}
</section>

{% endblock %}
