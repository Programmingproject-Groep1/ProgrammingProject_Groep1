{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%} {% if user.type_id == 1 %}
<h2>Admin</h2>
{% else %}
<h1>Catalogus</h1>
<h2>Welkom {{ user.first_name}}</h2>
{% endif %}
<!-- Filters -->
<section class="filters">
  <form method="POST" id="filterForm">
 <!-- <input type="hidden" name="form_name" value="sorteer" /> --> 
      <label for="sorteer">Sorteer:</label>
      <select id="sorteer" name="AZ">
          <option value="AZ">A-Z</option>
          <option value="ZA">Z-A</option>
      </select>
      <br>
      <!-- category -->
      <label>Categorie:</label><br>
      <label for="all">All</label>
      <input type="checkbox" id="all" name="category" value="All">
      <br>
      <label for="Audio">Audio</label>
      <input type="checkbox" id="Audio" name="category" value="Audio">
      <br>
      <label for="Belichting">Belichting</label>
      <input type="checkbox" id="Belichting" name="category" value="Belichting">
      <br>
      <label for="Elektronica">Elektronica</label>
      <input type="checkbox" id="Elektronica" name="category" value="Elektronica">
      <br>
      <label for="Video">Video</label>
      <input type="checkbox" id="Video" name="category" value="Video">
      <br>
      <label for="Varia">Vaia</label>
      <input type="checkbox" id="Varia" name="category" value="Varia">
      <br>
      <hr>
      <label>merk:</label><br>
      <label for="all">All</label>
      <input type="checkbox" id="all" name="merk" value="All">
      <br>
      <label for="Apple">Apple</label>
      <input type="checkbox" id="Apple" name="merk" value="Apple">
      <br>
      <label for="Arduino">Arduino</label>
      <input type="checkbox" id="Arduino" name="merk" value="Arduino">
      <br>
      <label for="Canon">Canon</label>
      <input type="checkbox" id="Canon" name="merk" value="Canon">
      <br>
      <label for="Bresser">Bresser</label>
      <input type="checkbox" id="Bresser" name="merk" value="Bresser">
      <br>
      <label for="Rode">Rode</label>
      <input type="checkbox" id="Rode" name="merk" value="Rode">
      <br>

      <button type="submit" name="form_name" value="sorteer">Sorteer</button>
  </form>
</section>

  <!-- Search bar -->
  <form method="POST" id="searchForm">
    <input type="hidden" name="form_name" value="search" />
    <div class="input-group rounded" id="searchBar">
      <input
        type="search"
        class="form-control rounded"
        placeholder="Search"
        aria-label="Search"
        aria-describedby="search-addon"
        name="search"
      />
      <button type="submit" class="input-group-text border-0" id="search-addon">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </form>


<!-- catalogus -->
<section class="catalogus">
  {% for title, group in grouped_artikels.items() %} {% if group|length > 1 %}
  <!-- Carousel code -->
  <div class="card">
    <div
      id="carouselExampleIndicators{{ loop.index }}"
      class="carousel slide"
      data-interval="false"
    >
      <div class="carousel-inner">
        {% for artikel in group %}
        <div class="carousel-item {% if loop.first %}active{% endif %}">
          <!-- Content of the item -->
          <img
            src="{{ url_for('static', filename='images/' + artikel.afbeelding) }}"
            class="card-img-top"
            alt="afbeelding"
          />
          <div class="card-body">
            <h5 class="card-title">{{ artikel.title }}</h5>
            <p class="card-text">{{ artikel.beschrijving }}</p>
            <p class="card-text">{{ artikel.merk }}</p>
            <p class="card-text">{{ artikel.nummer }}</p>
            <p class="card-text">{{ artikel.category }}</p>
            <form method="POST">
              <div class="datumReserveer">
                <input
                  class="form-control selecteerDatum"
                  type="datetime-local"
                  placeholder="Selecteer datums"
                  name="datepicker"
                  data-item-id="{{ artikel.id }}"
                />
                <input type="hidden" name="form_name" value="reserveer" />
                <input
                  type="hidden"
                  name="artikel_id"
                  value="{{ artikel.id }}"
                />
                <button type="submit" class="btn btn-primary submitBtn">
                  Reserveer
                </button>
              </div>
            </form>
          </div>
        </div>
        {% endfor %}
      </div>
      <!-- Carousel controls -->
      <a
        class="carousel-control-prev carouselBtn"
        href="#carouselExampleIndicators{{ loop.index }}"
        role="button"
        data-slide="prev"
      >
        <i class="fas fa-chevron-left"></i>
      </a>
      <a
        class="carousel-control-next carouselBtn"
        href="#carouselExampleIndicators{{ loop.index }}"
        role="button"
        data-slide="next"
      >
        <i class="fas fa-chevron-right"></i>
      </a>
    </div>
  </div>
  {% else %}
  <!-- Single card code -->
  <div class="card">
    <!-- Content of the single item -->
    <img
      src="{{ url_for('static', filename='images/'+group[0].afbeelding) }}"
      class="card-img-top"
      alt="afbeelding"
    />
    <div class="card-body">
      <h5 class="card-title">{{ group[0].title }}</h5>
      <p class="card-text">{{ group[0].beschrijving }}</p>
      <p class="card-text">{{ group[0].merk }}</p>
      <p class="card-text">{{ group[0].nummer }}</p>
      <p class="card-text">{{ group[0].category }}</p>
      <form method="POST">
        <div class="datumReserveer">
          <input
            class="form-control selecteerDatum"
            type="datetime-local"
            placeholder="Selecteer datums"
            name="datepicker"
            data-item-id="{{ group[0].id }}"
          />
          <input type="hidden" name="form_name" value="reserveer" />
          <input type="hidden" name="artikel_id" value="{{ group[0].id }}" />
          <button type="submit" class="btn btn-primary submitBtn">
            Reserveer
          </button>
        </div>
      </form>
    </div>
  </div>
  {% endif %} {% endfor %}
</section>

{% endblock %}
