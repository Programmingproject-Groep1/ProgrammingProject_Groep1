{% extends "base.html" %} {% block title %}Home{% endblock %} {% block content
%}
<!-- Pagina waar admin de blacklist kan beheren -->
<main class="main">
<body>
  <h2>Blacklist:</h2>
  <div class="blacklist_wrapper">
  <section class="blacklist_filter">
    <form method="POST">
      <label for="filter">filter:</label>
      <select id="filter" name="filter">
        <option name="blacklisted" value="all">alles</option>
        <option name="blacklisted" value="banned">Banned</option>
        <option name="blacklisted" value="niet_banned">Not Banned</option>
      </select>

      <label for="weergaven">weergaven:</label>
      <select id="weergaven" name="weergaven">
        <option name="blacklisted" value="voornaam_az">Voornaam A-Z</option>
        <option name="blacklisted" value="voornaam_za">Voornaam Z-A</option>
        <option name="blacklisted" value="naam_az">Naam A-Z</option>
        <option name="blacklisted" value="naam_za">Naam Z-A</option>
        <option name="blacklisted" value="studentnummer_laag_hoog">studentnummer -></option>
        <option name="blacklisted" value="studentnummer_hoog_laag">studentnummer <-</option>
      </select>
      <button type="submit" value="sorteer" class="btn btn-primary">Filter</button>
    </form>
  </section>

  <!-- Search bar -->
  <form method="POST" class="searchForm_blacklist">
    <input type="hidden" name="form_name" value="search" />
    <div class="input-group rounded" id="searchBar">
      <input
        type="search"
        class="form-control rounded"
        placeholder="Search"
        aria-label="Search"
        aria-describedby="search-addon"
        name="search"
      />
      <button type="submit" class="input-group-text border-0" id="search-addon">
        <i class="bi bi-search" id="searchicon"></i>
      </button>
    </div>
  </form>
</div>
<hr>
  <!--blacklist aanmaken-->
  <section class="blacklist">
    {% for user in users %}
      {% if user.type_id in [2, 3] %}
        <div class="user">
          <div class="left-column">
            <p>Naam: {{ user.first_name }} {{ user.last_name }}</p>
            <p>Studentnummer: {{ user.id }}</p>
          </div>
          <form class="formblacklist" method="POST">
            <div class="middle-column">
              <textarea name="reden_blacklist" placeholder="reden"></textarea>
            </div>
            <div class="right-column">
              <div class="status-wrapper">
                <div class="status-circle {% if user.blacklisted %}status-red{% else %}status-green{% endif %}"></div>
                <p>Status: {{ "Banned" if user.blacklisted else "Not Banned" }}</p>
              </div>
              <input type="hidden" name="userid" value="{{ user.id }}">
              <button type="submit" name="form_name" value="{% if user.blacklisted %}unban{% else %}ban{% endif %}">
                {% if user.blacklisted %}Unban{% else %}Ban{% endif %}
              </button>
            </div>
          </form>
        </div>
      {% endif %}
    {% endfor %}
  </section>
</main>
</body>

{% endblock %}
