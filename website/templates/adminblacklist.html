{% extends "base.html" %} {% block title %}Blacklist{% endblock %} {% block content
%}
<!-- Pagina waar admin de blacklist kan beheren -->
<main class="main">
  <body>
    <h2>Blacklist:</h2>
    <div class="blacklist_wrapper">
      <section class="blacklist_filter">
        <form method="POST" class="alle-filters">
          <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

            <select id="weergaven" name="weergaven">
                <option value="voornaam_az" {% if weergaven == 'voornaam_az' %} selected {% endif %}>Voornaam A-Z</option>
                <option value="voornaam_za" {% if weergaven == 'voornaam_za' %} selected {% endif %}>Voornaam Z-A</option>
                <option value="naam_az" {% if weergaven == 'naam_az' %} selected {% endif %}>Naam A-Z</option>
                <option value="naam_za" {% if weergaven == 'naam_za' %} selected {% endif %}>Naam Z-A</option>
                <option value="studentnummer_laag_hoog" {% if weergaven == 'studentnummer_laag_hoog' %} selected {% endif %}>Studentnummer -&gt;</option>
                <option value="studentnummer_hoog_laag" {% if weergaven == 'studentnummer_hoog_laag' %} selected {% endif %}>Studentnummer &lt;-</option>
            </select>
            
            
            <select id="filteren" name="filteren">
              <option value="all" {% if filter_option == 'all' %} selected {% endif %}>Alles</option>
              <option value="banned" {% if filter_option == 'banned' %} selected {% endif %}>banned</option>
              <option value="niet_banned" {% if filter_option == 'niet_banned' %} selected {% endif %}>niet banned</option>
            </select>
    
          <input type="hidden" name="form_name" value="search" />
          <div class="input-group rounded" id="searchBar">
            <input type="search" class="form-control rounded" placeholder="Search" aria-label="Search" aria-describedby="search-addon" name="search"/>
            <button type="submit" class="btn btn-primary" id="search-addon">
              <i class="bi bi-search" id="searchicon"></i>
            </button>
          </div>
           <!-- <button type="submit" value="sorteer" class="btn btn-primary">Filter</button> -->
        </form>

       

      </section>

      <script>

        document.getElementById("filteren").onchange = function() {this.form.submit()};
        document.getElementById("weergaven").onchange = function() {this.form.submit()};
      </script>
    </div>
<hr>
</div>

  <!--blacklist aanmaken-->
  <section class="blacklist">
    {% for user in users %}
      {% if user.type_id in [2, 3] %}
        <div class="user">
          <div class="first-column">
            <p><b>Naam:</b> {{ user.first_name }} {{ user.last_name }}</p>
            <p><b>Studentnummer: </b>{{ user.id }}</p>
          </div>

          <div class="second-column">
            <form class="formtypegebruiker" method="POST">
              <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
              <input type="hidden" name="form_name" value="change_type" />
              <input type="hidden" name="user_id" value="{{ user.id }}">
              <label for="type_gebruiker"><b>type gebruiker:</b></label>
              <select id="type_gebruiker" name="type_gebruiker" class="form-select">
                  <option value="2" {% if user.type_id == 2 %} selected {% endif %}>student</option>
                  <option value="3" {% if user.type_id == 3 %} selected {% endif %}>docent</option>
                  <option value="1" {% if user.type_id == 1 %} selected {% endif %}>admin</option>
              </select>
              <br>
              <button type="submit" name="form_name" value="type_gebruiker" class="btn btn-primary">verander</button>
            </form>  
          </div>
          
          <form class="formblacklist" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <!---->
            <div class="third-column">
              <form class="formblacklist" method="POST"></form>
              
              <div class="status-wrapper">
                <div class="test">
                <div class="status-circle {% if user.blacklisted %}status-red{% else %}status-green{% endif %}"></div>
                <p>Status: {{ "Banned" if user.blacklisted else "Not Banned" }}</p></div>
                <textarea name="reden_blacklist" placeholder="reden"></textarea>
                <input type="hidden" name="userid" value="{{ user.id }}">
                <button class="btn btn-primary" id="submit" name="form_name" value="{% if user.blacklisted %}unban{% else %}ban{% endif %}">
                {% if user.blacklisted %}Unban{% else %}Ban{% endif %}
                </button>
              </div>
            </form>
            </div>
          
        </div>
      {% endif %}
    {% endfor %}
  </section>
</main>
</body>

{% endblock %}
